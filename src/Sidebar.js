import { useState } from 'react';
import './Sidebar.css';
import DataTransferModal from './DataTransferModal';

function Sidebar({onViewChange, currentView, isOpen, onClose}){
    const [isTransferModalOpen, setIsTransferModalOpen] = useState(false);

    const navItems= [
        {key:'characters', label: 'Characters', className: 'characters-button', iconPath: "M17 21v-2a4 4 0 0 0-4-4H5a4 0 0 0-4 4v2"},
        {key: 'banners', label: 'Banners', className:'banners-button', iconPath:'M4 6h16M4 12h16M4 18h16'},
        {key:'grandVoyage', label: 'Grand Voyage', className: 'grand-voyage-button', iconPath: "M22 12h-4l-3 9L9 3l-3 9H2"}, 
        {key:'garpsChallenge', label: "Garp's Challenge", className: 'garps-challenge-button', iconPath: "M13 2L3 14h9l-1 8 10-12h-9l1-8z"}, 
        {key:'forestOfTraining', label: 'Forest of Training', className: 'forest-of-training-button', iconPath: "M10 22a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h0a2 2 0 0 1 2 3v2a2 2 0 0 1-2 2z M14 15a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h02 2 0 0 1 2 3va2 2 0 0 1-2 2z"}, 
        {key:'coliseum', label: 'Coliseum', className:'coliseum-button', iconPath: "M2 12.16V12a10 10 0 0 1 10-10h0a10 10 0 0 1 10 10v.16"}, 
        {key:'pirateKingAdventures', label: 'Pirate King Adventures', className:'pka-button', iconPath: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}, 
        {key:'treasureMap', label: 'Treasure Map', className:'treasure-map-button', iconPath: "M1 6v16h16"}, 
        {key:'kizunaClash', label: 'Kizuna Clash', className:'kizuna-clash-button', iconPath: "M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},  
    ];

    const icons = {
        youtubers: "M94.32 70.473c-12.257.27-25.32 12.332-36.568 29.64a145.732 145.732 0 0 1 19.855-12.115c-31.622 23.364-46.658 83.72-47.166 122.336C43.54 191.32 70.73 160.196 96 174.964c-28.952-6.018-47.296 38.325-56.428 58.606 22.808-9.36 39.494-24.152 72.428-24.523-32.47 21.4-43.966 44.83-56.428 68.168 23.376-14.505 40.286-22.99 55.528-26.227 13.683-16.43 28.01-33.093 43.728-46.746 11.79-10.24 24.533-18.877 38.37-24.043-16.805-46.114-42.764-88.828-89.626-107.49-3-1.6-6.1-2.307-9.252-2.237zM207.578 194.64c-14.066 3.29-27.57 11.573-40.947 23.192-17.53 15.227-34.353 35.82-50.868 55.703-16.515 19.884-32.62 39.088-50.287 51.707-13.545 9.674-29.157 15.164-45.014 12.565 2.883 14.468 9.866 33.213 19.38 50.42 12.655 22.886 30.036 43.342 44.482 50.59 6.637 3.328 12.566 3.416 21.23 1.243 8.662-2.173 19.453-6.957 32.762-12.52C164.934 416.41 201.78 402.6 256 402.6c54.22 0 91.066 13.81 117.686 24.94 13.31 5.563 24.1 10.347 32.763 12.52 8.662 2.173 14.59 2.085 21.228-1.244 14.446-7.247 31.827-27.703 44.482-50.59 9.514-17.206 16.497-35.95 19.38-50.42-15.858 2.6-31.47-2.89-45.015-12.564-17.667-12.62-33.772-31.823-50.287-51.707s-33.337-40.476-50.87-55.703c-13.376-11.62-26.88-19.902-40.946-23.193 3.024 13.966-.075 26.363-7.594 34.985-10.06 11.535-25.643 16.307-40.828 16.307-15.185 0-30.77-4.772-40.828-16.307-7.52-8.622-10.618-21.02-7.594-34.986zm113.04 35.702c8.495-.304 17.71 10.54 7.925 22.465 16.326-15.08 30.872 6.004 13.81 13.808-13.26 6.065-25.986 13.423-37.937 21.86a32.33 32.33 0 0 1 1.584 9.958c0 10.202-2.76 19.5-10.88 26.696l-1.18 1.055-.047 1.582-.11 4.397c13.784 10.594 29.233 19.1 46.635 25.016 20.08 6.825 5.405 31.39-15.922 15.912 18.035 18.658-6.53 32.908-14.275 14.275-4.626-11.13-10.36-21.786-17.02-31.887l-.007.233c-1.505.906-4.646 2.64-9.295 4.308V340.6h-9.343v21.583c-3.997.946-6.635 1.68-11.875 1.94v-20.516h-11.344v20.565c-5-.19-7.527-.81-11.518-1.645V340.6h-9.344v20c-5.884-1.864-9.905-3.948-11.69-4.96l-.01-.298c-6.652 10.092-12.38 20.738-17.003 31.855-7.746 18.632-32.31 4.384-14.274-14.275-21.327 15.48-36.005-9.097-15.924-15.922 17.313-5.885 32.705-14.322 46.435-24.84l-.156-4.687-.05-1.547-1.152-1.032C208.72 317.74 206 308.48 206 298.396c0-3.362.53-6.647 1.533-9.798-11.935-8.415-24.646-15.747-37.883-21.8-17.063-7.806-2.527-28.89 13.8-13.812-9.574-11.666-.968-22.302 7.364-22.474 3.52-.073 6.99 1.722 9.024 6.086 5.733 12.305 12.05 24.032 19.04 35.013 8.91-7.97 21.735-13.142 36.214-13.352H256c14.805 0 27.942 5.186 37.03 13.28 7.024-11.008 13.372-22.763 19.124-35.11 1.926-4.134 5.14-5.967 8.463-6.086zM224.7 293.228c-4.483.056-7.877 1.904-8.042 7.28 0 8.555 6.923 15.498 15.485 15.498 8.555 0 15.496-6.943 15.496-15.498 0 0-13.757-7.395-22.94-7.28zm62.624 0c-9.18-.116-22.937 7.28-22.937 7.28 0 8.555 6.94 15.498 15.496 15.498 8.555 0 15.484-6.943 15.484-15.498-.164-5.376-3.56-7.224-8.043-7.28zm-31.336 18.96l-7.994 17.84h15.988l-7.994-17.84z",
        discord: "M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5 .26-2.93 .71-4.27 1.33c-.01 0-.02 .01-.03 .02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02 .01 .04 .03 .05c1.8 1.32 3.53 2.12 5.2 2.65c.03 .01 .06 0 .07-.02c.4-.55 .76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08 .01-.11c.11-.08 .22-.17 .33-.25c.02-.02 .05-.02 .07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01 .05-.01 .07 .01c.11 .09 .22 .17 .33 .26c.04 .03 .04 .09 .01 .11c-.52 .31-1.07 .56-1.64 .78c-.04 .01-.05 .06-.04 .09c.32 .61 .68 1.19 1.07 1.74c.03 .01 .06 .02 .09 .01c1.72-.53 3.48-1.33 5.2-2.65c.02-.01 .03-.03 .03-.05c.44-4.52-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9 .96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9 .96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z",
        transfer: "M2 3 H22 V21 H2 Z M2 8 H22 V9 H2 Z M8 13 H16 V15 H8 Z"

    };


    return(
        <>
        <DataTransferModal 
            isOpen={isTransferModalOpen}
            onClose={()=> setIsTransferModalOpen(false)}
        />

        <div 
            className={`sidebar-backdrop ${isOpen ? 'open' : ''}`}
            onClick={onClose}></div>
     
        <div className={`sidebar ${isOpen ? 'open' : ''}`}>

            <div className="sidebar-mobile-header">
                <span className="sidebar-logo">Menu</span>
                <button className="sidebar-close-btn" onClick={onClose}>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div className="sidebar-nav">
                {navItems.map(item => (
                    <button 
                        key={item.key}
                        className={`sidebar-button ${item.className} ${currentView === item.key ? 'active' : ''}`}
                        onClick={()=> currentView !== item.key && onViewChange(item.key)}
                    >
                        <span className="sidebar-accent"></span>
                        <span>{item.label}</span>
                    </button>
                ))}
            </div>

        <div className="sidebar-footer">
            <div className="footer-separator"></div>
            <div className="footer-links">
                <button 
                    className={`footer-btn youtube ${currentView === 'creators' ? 'active' : ''}`}
                    aria-label = "Creators"
                    onClick={()=> currentView !== 'creators' && onViewChange('creators')}
                    >
                    <svg viewBox="0 0 512 512" width="24" height="24" fill="currentColor">
                        <path d={icons.youtubers}/>
                    </svg>
                    <span className="tooltip">Creators</span>
                </button>

                <button className="footer-btn discord" aria-label="Discord">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                        <path d={icons.discord}/>
                    </svg>
                    <span className="tooltip">Discord</span>
                </button>

                <button className="footer-btn transfer" aria-label="Sync Data" onClick={()=> setIsTransferModalOpen(true)}>
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                        <path fillRule="evenodd" d={icons.transfer}/>
                    </svg>
                    <span className="tooltip">Sync Data</span>
                </button>
            </div>
        </div>
    </div>
   </>
    );
}

export default Sidebar;


<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#000000" d="M94.32 70.473c-12.257.27-25.32 12.332-36.568 29.64a145.732 145.732 0 0 1 19.855-12.115c-31.622 23.364-46.658 83.72-47.166 122.336C43.54 191.32 70.73 160.196 96 174.964c-28.952-6.018-47.296 38.325-56.428 58.606 22.808-9.36 39.494-24.152 72.428-24.523-32.47 21.4-43.966 44.83-56.428 68.168 23.376-14.505 40.286-22.99 55.528-26.227 13.683-16.43 28.01-33.093 43.728-46.746 11.79-10.24 24.533-18.877 38.37-24.043-16.805-46.114-42.764-88.828-89.626-107.49-3-1.6-6.1-2.307-9.252-2.237zM207.578 194.64c-14.066 3.29-27.57 11.573-40.947 23.192-17.53 15.227-34.353 35.82-50.868 55.703-16.515 19.884-32.62 39.088-50.287 51.707-13.545 9.674-29.157 15.164-45.014 12.565 2.883 14.468 9.866 33.213 19.38 50.42 12.655 22.886 30.036 43.342 44.482 50.59 6.637 3.328 12.566 3.416 21.23 1.243 8.662-2.173 19.453-6.957 32.762-12.52C164.934 416.41 201.78 402.6 256 402.6c54.22 0 91.066 13.81 117.686 24.94 13.31 5.563 24.1 10.347 32.763 12.52 8.662 2.173 14.59 2.085 21.228-1.244 14.446-7.247 31.827-27.703 44.482-50.59 9.514-17.206 16.497-35.95 19.38-50.42-15.858 2.6-31.47-2.89-45.015-12.564-17.667-12.62-33.772-31.823-50.287-51.707s-33.337-40.476-50.87-55.703c-13.376-11.62-26.88-19.902-40.946-23.193 3.024 13.966-.075 26.363-7.594 34.985-10.06 11.535-25.643 16.307-40.828 16.307-15.185 0-30.77-4.772-40.828-16.307-7.52-8.622-10.618-21.02-7.594-34.986zm113.04 35.702c8.495-.304 17.71 10.54 7.925 22.465 16.326-15.08 30.872 6.004 13.81 13.808-13.26 6.065-25.986 13.423-37.937 21.86a32.33 32.33 0 0 1 1.584 9.958c0 10.202-2.76 19.5-10.88 26.696l-1.18 1.055-.047 1.582-.11 4.397c13.784 10.594 29.233 19.1 46.635 25.016 20.08 6.825 5.405 31.39-15.922 15.912 18.035 18.658-6.53 32.908-14.275 14.275-4.626-11.13-10.36-21.786-17.02-31.887l-.007.233c-1.505.906-4.646 2.64-9.295 4.308V340.6h-9.343v21.583c-3.997.946-6.635 1.68-11.875 1.94v-20.516h-11.344v20.565c-5-.19-7.527-.81-11.518-1.645V340.6h-9.344v20c-5.884-1.864-9.905-3.948-11.69-4.96l-.01-.298c-6.652 10.092-12.38 20.738-17.003 31.855-7.746 18.632-32.31 4.384-14.274-14.275-21.327 15.48-36.005-9.097-15.924-15.922 17.313-5.885 32.705-14.322 46.435-24.84l-.156-4.687-.05-1.547-1.152-1.032C208.72 317.74 206 308.48 206 298.396c0-3.362.53-6.647 1.533-9.798-11.935-8.415-24.646-15.747-37.883-21.8-17.063-7.806-2.527-28.89 13.8-13.812-9.574-11.666-.968-22.302 7.364-22.474 3.52-.073 6.99 1.722 9.024 6.086 5.733 12.305 12.05 24.032 19.04 35.013 8.91-7.97 21.735-13.142 36.214-13.352H256c14.805 0 27.942 5.186 37.03 13.28 7.024-11.008 13.372-22.763 19.124-35.11 1.926-4.134 5.14-5.967 8.463-6.086zM224.7 293.228c-4.483.056-7.877 1.904-8.042 7.28 0 8.555 6.923 15.498 15.485 15.498 8.555 0 15.496-6.943 15.496-15.498 0 0-13.757-7.395-22.94-7.28zm62.624 0c-9.18-.116-22.937 7.28-22.937 7.28 0 8.555 6.94 15.498 15.496 15.498 8.555 0 15.484-6.943 15.484-15.498-.164-5.376-3.56-7.224-8.043-7.28zm-31.336 18.96l-7.994 17.84h15.988l-7.994-17.84z"></path></g></svg>